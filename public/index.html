<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prove Identity V2 - Pre-fill POC</title>
    <link rel="stylesheet" href="styles.css">
    <script id="glance-cobrowse" charset="UTF-8" type="text/javascript" src="https://www.glancecdn.net/cobrowse/CobrowseJS.ashx?group=21223&site=staging" data-groupid="21223" data-site="staging" data-ws="www.glance.net" data-presence="on" data-cookietype="normal" data-cookiedomain="prove-ai-poc-git-main-natalieatoshs-projects.vercel.app"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>üêã Prove Identity V2 - Pre-fill POC</h1>
            <p>Proof of Concept: Identity Verification & Form Pre-fill | <em>Moby Dick Theme: Captain Ahab</em></p>
        </header>
        
        <main>
            <div class="info-banner">
                <p>üêã <strong>Moby Dick Theme:</strong> Testing with Captain Ahab's identity | <strong>API Reference:</strong> <a href="https://docs.prove.com/customer/reference/identityv2" target="_blank">Prove Identity V2 Documentation</a></p>
            </div>

            <div class="form-section">
                <div class="form-header">
                    <h2>User Information Form</h2>
                    <button id="prefillBtn" class="btn-primary">
                        <span class="btn-icon">‚ú®</span>
                        Pre-fill with Prove Identity
                    </button>
                </div>

                <form id="userForm" class="user-form">
                    <div class="form-group">
                        <label for="phone">Phone Number *</label>
                        <input type="tel" id="phone" name="phone" required>
                        <small>Enter phone number to verify Captain Ahab's identity (use 555 or 123 for success)</small>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name</label>
                            <input type="text" id="firstName" name="firstName">
                        </div>
                        <div class="form-group">
                            <label for="lastName">Last Name</label>
                            <input type="text" id="lastName" name="lastName">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" name="email">
                    </div>

                    <div class="form-group">
                        <label for="address">Street Address</label>
                        <input type="text" id="address" name="address">
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="city">City</label>
                            <input type="text" id="city" name="city">
                        </div>
                        <div class="form-group">
                            <label for="state">State</label>
                            <input type="text" id="state" name="state">
                        </div>
                        <div class="form-group">
                            <label for="zipCode">ZIP Code</label>
                            <input type="text" id="zipCode" name="zipCode">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="dateOfBirth">Date of Birth</label>
                        <input type="date" id="dateOfBirth" name="dateOfBirth">
                    </div>

                    <div class="form-group">
                        <label for="ssn">SSN (Last 4 digits)</label>
                        <input type="text" id="ssn" name="ssn" maxlength="4">
                    </div>

                    <div class="form-group">
                        <label for="occupation">Occupation</label>
                        <input type="text" id="occupation" name="occupation" readonly>
                    </div>

                    <div class="form-group">
                        <label for="vessel">
                            Vessel
                            <a href="#" class="help-link" onclick="event.preventDefault(); openVesselModal();">I don't understand this field</a>
                        </label>
                        <input type="text" id="vessel" name="vessel" readonly>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn-submit">Submit Form</button>
                        <button type="button" class="btn-clear" onclick="clearForm()">Clear Form</button>
                    </div>
                </form>
            </div>

            <div id="statusMessage" class="status-message" style="display: none;"></div>

            <!-- Feature Sections -->
            <div class="features-grid">
                <!-- 1. SMS Authentication / OTP -->
                <div class="feature-card">
                    <h3>üì± 1. SMS Authentication / OTP</h3>
                    <div class="feature-content">
                        <input type="tel" id="otpPhone" placeholder="Enter phone number" class="feature-input">
                        <div class="feature-actions">
                            <button onclick="sendOTP()" class="btn-feature">Send OTP</button>
                            <input type="text" id="otpCode" placeholder="Enter OTP code" class="feature-input" maxlength="6" style="display: none;">
                            <button onclick="verifyOTP()" class="btn-feature" id="verifyOtpBtn" style="display: none;">Verify OTP</button>
                        </div>
                        <div id="otpResult" class="feature-result"></div>
                    </div>
                </div>

                <!-- 2. Trust Score -->
                <div class="feature-card">
                    <h3>üõ°Ô∏è 2. Trust Score</h3>
                    <div class="feature-content">
                        <input type="tel" id="trustScorePhone" placeholder="Enter phone number" class="feature-input">
                        <button onclick="getTrustScore()" class="btn-feature">Get Trust Score</button>
                        <div id="trustScoreResult" class="feature-result"></div>
                    </div>
                </div>

                <!-- 3. Phone Authentication -->
                <div class="feature-card">
                    <h3>‚òéÔ∏è 3. Phone Authentication</h3>
                    <div class="feature-content">
                        <input type="tel" id="phoneAuthPhone" placeholder="Enter phone number" class="feature-input">
                        <button onclick="authenticatePhone()" class="btn-feature">Authenticate Phone</button>
                        <div id="phoneAuthResult" class="feature-result"></div>
                    </div>
                </div>

                <!-- 4. Selfie Comparison + Liveness -->
                <div class="feature-card">
                    <h3>üì∏ 4. Selfie Comparison + Liveness</h3>
                    <div class="feature-content">
                        <div class="image-upload-section">
                            <label>Selfie Image:</label>
                            <input type="file" id="selfieImage" accept="image/*" class="feature-input">
                            <label>ID Image:</label>
                            <input type="file" id="idImage" accept="image/*" class="feature-input">
                        </div>
                        <div class="feature-actions">
                            <button onclick="checkLiveness()" class="btn-feature">Check Liveness</button>
                            <button onclick="compareSelfie()" class="btn-feature">Compare with ID</button>
                        </div>
                        <div id="selfieResult" class="feature-result"></div>
                    </div>
                </div>

                <!-- 5. Knowledge-Based Authentication (KBA) -->
                <div class="feature-card">
                    <h3>‚ùì 5. Knowledge-Based Authentication (KBA)</h3>
                    <div class="feature-content">
                        <input type="tel" id="kbaPhone" placeholder="Enter phone number" class="feature-input">
                        <button onclick="generateKBA()" class="btn-feature">Generate KBA Questions</button>
                        <div id="kbaQuestions" class="feature-result"></div>
                        <div id="kbaResult" class="feature-result"></div>
                    </div>
                </div>

                <!-- 6. Credential Analysis -->
                <div class="feature-card">
                    <h3>üÜî 6. Credential Analysis</h3>
                    <div class="feature-content">
                        <select id="idType" class="feature-input">
                            <option value="driver_license">Driver's License</option>
                            <option value="passport">Passport</option>
                            <option value="state_id">State ID</option>
                        </select>
                        <input type="file" id="credentialImage" accept="image/*" class="feature-input">
                        <button onclick="analyzeCredential()" class="btn-feature">Analyze Credential</button>
                        <div id="credentialResult" class="feature-result"></div>
                    </div>
                </div>

                <!-- 7. AAMVA Check -->
                <div class="feature-card">
                    <h3>üöó 7. AAMVA Check (DMV Verification)</h3>
                    <div class="feature-content">
                        <input type="text" id="licenseNumber" placeholder="License Number" class="feature-input">
                        <input type="text" id="licenseState" placeholder="State (e.g., MA)" class="feature-input">
                        <input type="date" id="licenseDob" class="feature-input">
                        <button onclick="verifyAAMVA()" class="btn-feature">Verify with DMV</button>
                        <div id="aamvaResult" class="feature-result"></div>
                    </div>
                </div>

                <!-- 8. Multi-Factor Authentication (MFA) -->
                <div class="feature-card">
                    <h3>üîê 8. Multi-Factor Authentication (MFA)</h3>
                    <div class="feature-content">
                        <input type="tel" id="mfaPhone" placeholder="Enter phone number" class="feature-input">
                        <button onclick="initiateMFA()" class="btn-feature">Initiate MFA</button>
                        <div id="mfaResult" class="feature-result"></div>
                    </div>
                </div>

                <!-- 9. Phone Number Intelligence -->
                <div class="feature-card">
                    <h3>üìä 9. Phone Number Intelligence</h3>
                    <div class="feature-content">
                        <input type="tel" id="intelPhone" placeholder="Enter phone number" class="feature-input">
                        <button onclick="getPhoneIntelligence()" class="btn-feature">Get Intelligence</button>
                        <div id="intelResult" class="feature-result"></div>
                    </div>
                </div>
            </div>

            <div class="api-info">
                <h3>üì° All API Endpoints</h3>
                <div class="api-details">
                    <div class="api-item"><strong>Identity V2:</strong> <code>POST /api/prove/identity/v2</code></div>
                    <div class="api-item"><strong>SMS OTP Send:</strong> <code>POST /api/prove/sms/send-otp</code></div>
                    <div class="api-item"><strong>SMS OTP Verify:</strong> <code>POST /api/prove/sms/verify-otp</code></div>
                    <div class="api-item"><strong>Trust Score:</strong> <code>POST /api/prove/trust-score</code></div>
                    <div class="api-item"><strong>Phone Auth:</strong> <code>POST /api/prove/phone/authenticate</code></div>
                    <div class="api-item"><strong>Selfie Compare:</strong> <code>POST /api/prove/selfie/compare</code></div>
                    <div class="api-item"><strong>Liveness Check:</strong> <code>POST /api/prove/selfie/liveness</code></div>
                    <div class="api-item"><strong>KBA Generate:</strong> <code>POST /api/prove/kba/generate</code></div>
                    <div class="api-item"><strong>KBA Verify:</strong> <code>POST /api/prove/kba/verify</code></div>
                    <div class="api-item"><strong>Credential Analysis:</strong> <code>POST /api/prove/credential/analyze</code></div>
                    <div class="api-item"><strong>AAMVA Check:</strong> <code>POST /api/prove/aamva/verify</code></div>
                    <div class="api-item"><strong>MFA Initiate:</strong> <code>POST /api/prove/mfa/initiate</code></div>
                    <div class="api-item"><strong>MFA Verify:</strong> <code>POST /api/prove/mfa/verify</code></div>
                    <div class="api-item"><strong>Phone Intelligence:</strong> <code>POST /api/prove/phone/intelligence</code></div>
                </div>
            </div>
        </main>
    </div>

    <!-- Vessel Understanding Modal -->
    <div id="vesselModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Understanding Vessels</h2>
                <button class="modal-close" onclick="closeVesselModal()">&times;</button>
            </div>
            <div class="modal-body">
                <p>A vessel refers to the ship or boat that a person is associated with, particularly in maritime professions like whaling, fishing, or shipping.</p>
                
                <h3>Types of Vessels:</h3>
                <ul>
                    <li><strong>Whaling Ships:</strong> Large vessels designed for hunting whales, like the Pequod in Moby Dick</li>
                    <li><strong>Fishing Boats:</strong> Smaller vessels used for commercial or recreational fishing</li>
                    <li><strong>Cargo Ships:</strong> Large vessels that transport goods across oceans</li>
                    <li><strong>Passenger Ships:</strong> Vessels designed to carry people, such as cruise ships or ferries</li>
                    <li><strong>Naval Vessels:</strong> Military ships used by navies for defense and operations</li>
                    <li><strong>Yachts:</strong> Private recreational boats, often luxurious</li>
                </ul>
                
                <p>In the context of identity verification, the vessel field helps establish a person's maritime profession or association with a specific ship.</p>
            </div>
            <div class="modal-footer">
                <button class="btn-expert" onclick="talkToExpert()">Talk to an Expert</button>
                <button class="btn-close-modal" onclick="closeVesselModal()">Close</button>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

